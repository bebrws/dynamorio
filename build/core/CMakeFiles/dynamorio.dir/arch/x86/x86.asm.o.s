# 1 "../core/arch/x86/x86.asm"
# 1 "<built-in>" 1
# 1 "<built-in>" 3
# 362 "<built-in>" 3
# 1 "<command line>" 1
# 1 "<built-in>" 2
# 1 "../core/arch/x86/x86.asm" 2






# 32 "../core/arch/x86/x86.asm"







# 50 "../core/arch/x86/x86.asm"



# 70 "../core/arch/x86/x86.asm"



# 1 "../core/arch/x86/../asm_defines.asm" 1






# 32 "../core/arch/x86/../asm_defines.asm"











# 1 "./configure.h" 1






# 32 "./configure.h"



























































































# 131 "./configure.h"










# 244 "./configure.h"





















# 283 "./configure.h"







# 298 "./configure.h"







  



  





















   




  







# 43 "../core/arch/x86/../asm_defines.asm" 2


# 63 "../core/arch/x86/../asm_defines.asm"




































# 242 "../core/arch/x86/../asm_defines.asm"


# 275 "../core/arch/x86/../asm_defines.asm"










# 354 "../core/arch/x86/../asm_defines.asm"











# 481 "../core/arch/x86/../asm_defines.asm"




# 566 "../core/arch/x86/../asm_defines.asm"



# 577 "../core/arch/x86/../asm_defines.asm"


# 599 "../core/arch/x86/../asm_defines.asm"


# 640 "../core/arch/x86/../asm_defines.asm"







# 707 "../core/arch/x86/../asm_defines.asm"







# 768 "../core/arch/x86/../asm_defines.asm"



# 788 "../core/arch/x86/../asm_defines.asm"



# 816 "../core/arch/x86/../asm_defines.asm"






# 73 "../core/arch/x86/x86.asm" 2
SECTION .text



# 1 "../core/unix/os_asm_defines.asm" 1





# 31 "../core/unix/os_asm_defines.asm"













# 64 "../core/unix/os_asm_defines.asm"


# 77 "../core/arch/x86/x86.asm" 2



# 1 "../core/unix/include/syscall_mach.h" 1





# 31 "../core/unix/include/syscall_mach.h"













# 93 "../core/unix/include/syscall_mach.h"


# 81 "../core/arch/x86/x86.asm" 2
# 1 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 1 3 4
# 33 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4






# 1 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/appleapiopts.h" 1 3 4
# 27 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/appleapiopts.h" 3 4



































# 39 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 2 3 4
# 48 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			


			





			

			

			
			

# 78 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			

			



			
			

# 102 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			
			
			


			
			
			
			
			
			



			
			






			


			
			


			


			




			

			
			
			



			
			
			
			

			
			
			
			



			





			



			
			

# 181 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			

			
			
			
			

			
			
			





			



			

			
			
			

			

			


			
			

			
			
			








			







			




			







			
			
			
			
			
			
			
			
			
			


			
			




			

# 286 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			


			







			

# 315 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			
			

# 335 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			

# 361 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			




			








			

# 392 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			


			
			








			

# 416 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			
			
			
			

# 431 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			
			
			

# 477 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			

# 535 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			
			
			
			

# 559 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4
			

# 577 "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/syscall.h" 3 4


# 82 "../core/arch/x86/x86.asm" 2






































# 1 "../core/arch/x86/x86_asm_defines.asm" 1






# 32 "../core/arch/x86/x86_asm_defines.asm"

















# 64 "../core/arch/x86/x86_asm_defines.asm"













# 125 "../core/arch/x86/x86_asm_defines.asm"





















# 184 "../core/arch/x86/x86_asm_defines.asm"


# 196 "../core/arch/x86/x86_asm_defines.asm"


# 219 "../core/arch/x86/x86_asm_defines.asm"



# 120 "../core/arch/x86/x86.asm" 2








# 136 "../core/arch/x86/x86.asm"












EXTERN _unexpected_return

EXTERN _get_own_context_integer_control
EXTERN _get_simd_vals
EXTERN _auto_setup
EXTERN _return_from_native
EXTERN _native_module_callout
EXTERN _d_r_dispatch

EXTERN _dr_app_start_helper

EXTERN _dynamo_process_exit
EXTERN _dynamo_thread_exit
EXTERN _dynamo_thread_stack_free_and_exit
EXTERN _dynamorio_app_take_over_helper
EXTERN _found_modified_code
EXTERN _get_cleanup_and_terminate_global_do_syscall_entry

EXTERN _d_r_internal_error

EXTERN _internal_exception_info
EXTERN _is_currently_on_dstack
EXTERN _nt_continue_setup

EXTERN _master_signal_handler_C


EXTERN _new_bsdthread_setup

EXTERN _hashlookup_null_target






EXTERN _dr_setjmp_sigmask
EXTERN _privload_early_inject
EXTERN _relocate_dynamorio
EXTERN _dynamorio_dl_fixup







EXTERN _exiting_thread_count
EXTERN _d_r_initstack
EXTERN _initstack_mutex
EXTERN _int_syscall_address
EXTERN _syscalls
EXTERN _sysenter_ret_address
EXTERN _sysenter_tls_offset










# 235 "../core/arch/x86/x86.asm"






        global _get_pic_xdi
_get_pic_xdi:
        mov      rdi, qword [rsp]
        ret
        








        global _call_switch_stack
_call_switch_stack:
        








        
        lea      rsp, [-5*8 + rsp]
        
        lea      rax, [-8 + rsp]
        mov      [5*8 + rax], r8

        mov      [1*8 + rax], rdi
        mov      [2*8 + rax], rsi
        mov      [3*8 + rax], rdx
        mov      [4*8 + rax], rcx




        
        push     rbx
        mov      rbx, rax
        
        push     r12 
        mov      r12, rsp
        
        mov      rdx, [3*8 + rax] 
        mov      rcx, [1*8 + rax] 
        mov      rsp, [2*8 + rax] 
        cmp      qword [4*8 + rax], 0 
        je       call_dispatch_alt_stack_no_free
        mov      rax, [4*8 + rax]
        mov      dword [rax], 0
call_dispatch_alt_stack_no_free:
         
 mov rdi,  rcx 
 call rdx 

        mov      rsp, r12
        mov      rax, rbx
        cmp      byte [5*8 + rax], 0 
        je       _unexpected_return
        pop      r12
        pop      rbx




        lea      rsp, [5*8 + rsp]




        ret
        



# 331 "../core/arch/x86/x86.asm"

        global _dr_call_on_clean_stack
_dr_call_on_clean_stack:
        







        








        
        lea      rsp, [-5*8 + rsp]
        
        lea      rax, [-8 + rsp]
        
        mov      r10, [6*8 + rax]
        mov      [5*8 + rax], r8
        mov      [6*8 + rax], r9

        mov      [1*8 + rax], rdi
        mov      [2*8 + rax], rsi
        mov      [3*8 + rax], rdx
        mov      [4*8 + rax], rcx





        push     r10 

        
        push     rbx
        push     rbp 








        mov      rbx, rax
        mov      rbp, rsp
        
        mov      r10, [2*8 + rax] 
        mov      r11, [1*8 + rax] 
        mov  rsp, qword [ ((18*8 + 48 + ((32)*(64)) + ((8)*(8)))+(8 + 5 * 8)+3*8) + r11]




        lea rsp, [-8* 4 + rsp]
        mov      r11, [10*8 + rax]
        mov      qword [1*8 + rsp], r11
        mov      r11, [9*8 + rax]
        mov      qword [0*8 + rsp], r11
        mov      r11, [8*8 + rax]
        mov      r9, r11
        mov      r11, [7*8 + rax]
        mov      r8, r11
        mov      r11, [6*8 + rax]
        mov      rcx, r11
        mov      r11, [5*8 + rax]
        mov      rdx, r11
        mov      r11, [4*8 + rax]
        mov      rsi, r11
        mov      r11, [3*8 + rax]
        mov      rdi, r11
        call     r10
        
        lea rsp, [8* 4 + rsp]
        mov      rsp, rbp
        mov      rcx, rbx





        pop      rbp
        pop      rbx




        pop      r10 
        lea      rsp, [5*8 + rsp]
        mov      qword [rsp], r10 




        ret
        








        global _clone_and_swap_stack
_clone_and_swap_stack:
        mov      rax, rdi
        mov      rcx, rsi
        mov      rdx, rsp
        
        push     rsi
        push     rdi
        
        sub      rcx, rdx 
        mov      rsi, rdx 
        mov      rdi, rax 
        sub      rdi, rcx
        sub      rax, rcx 
        
        cld
        rep movsb
        
        pop      rdi
        pop      rsi
        mov      rsp, rax
        ret
        





        global _dr_app_start
_dr_app_start:
        sub rsp, 16 - 8

        
        lea rsp, [rsp + (- ((32)*(64)) - ((8)*(8)) - 48)] 
 push qword [16 - 8 + rsp -                        (- ((32)*(64)) - ((8)*(8)) - 48)] 
 pushfq 
 push r15 
 push r14 
 push r13 
 push r12 
 push r11 
 push r10 
 push r9 
 push r8 
 push rax 
 push rcx 
 push rdx 
 push rbx 
 
 push rsp 
 push rbp 
 push rsi 
 push rdi 
 lea rax, [rsp] 
 
 mov rdi, rax 
 call _get_simd_vals 
 
 lea rax, [(18*8 + 48 + ((32)*(64)) + ((8)*(8))) + rsp] 
 mov [(3*8) + rsp], rax 


        
        lea     rax, [rsp] 
         
 mov rdi,  rax 
 call _dr_app_start_helper 


        
        add      rsp, (18*8 + 48 + ((32)*(64)) + ((8)*(8))) + 16 - 8
        ret
        






        global _dr_app_take_over
_dr_app_take_over:  
        jmp      _dynamorio_app_take_over
        







        global _dr_app_running_under_dynamorio
_dr_app_running_under_dynamorio: 
        mov      eax, 0
        ret
        






        global _dynamorio_app_take_over
_dynamorio_app_take_over:
        sub rsp, 16 - 8

        
        lea rsp, [rsp + (- ((32)*(64)) - ((8)*(8)) - 48)] 
 push qword [16 - 8 + rsp -                        (- ((32)*(64)) - ((8)*(8)) - 48)] 
 pushfq 
 push r15 
 push r14 
 push r13 
 push r12 
 push r11 
 push r10 
 push r9 
 push r8 
 push rax 
 push rcx 
 push rdx 
 push rbx 
 
 push rsp 
 push rbp 
 push rsi 
 push rdi 
 lea rax, [rsp] 
 
 mov rdi, rax 
 call _get_simd_vals 
 
 lea rax, [(18*8 + 48 + ((32)*(64)) + ((8)*(8))) + rsp] 
 mov [(3*8) + rsp], rax 


        
        lea      rax, [rsp] 
         
 mov rdi,  rax 
 call _dynamorio_app_take_over_helper 


        
        add      rsp, (18*8 + 48 + ((32)*(64)) + ((8)*(8))) + 16 - 8
        ret
        


# 544 "../core/arch/x86/x86.asm"

        global _cleanup_and_terminate
_cleanup_and_terminate:
        







        
        lea      rsp, [-5*8 + rsp]
        
        lea      rbp, [-8 + rsp]
        mov      [5*8 + rbp], r8
        mov      [6*8 + rbp], r9
        mov      rax, qword [1*8 + rsp]
        mov      [7*8 + rbp], rax

        mov      [1*8 + rbp], rdi
        mov      [2*8 + rbp], rsi
        mov      [3*8 + rbp], rdx
        mov      [4*8 + rbp], rcx






        


# 585 "../core/arch/x86/x86.asm"
        lock inc dword [rel _exiting_thread_count] 

        
        
        mov      rbx, qword [1*8 + rbp] 
        mov qword [(((18*8 + 48 + ((32)*(64)) + ((8)*(8)))+(8 + 5 * 8)+3*8)+1*8) + rbx], 1
         
 mov rdi,  rbx 
 call _is_currently_on_dstack 
  
        cmp      al, 0
        jnz      cat_save_dstack
        mov      rbx, 0 
        jmp      cat_done_saving_dstack
cat_save_dstack:
        mov rbx, qword [((18*8 + 48 + ((32)*(64)) + ((8)*(8)))+(8 + 5 * 8)+3*8) + rbx]
cat_done_saving_dstack:
        


        

         
 call _get_cleanup_and_terminate_global_do_syscall_entry 




        push     rbx 
        push     rax
        
        movzx    esi, byte [5*8 + rbp] 
        cmp      esi, 0
        jz       cat_thread_only
         
 call _dynamo_process_exit 

        jmp      cat_no_thread
cat_thread_only:
         
 call _dynamo_thread_exit 

cat_no_thread:
        


        mov      ecx, 1




cat_spin:



        xchg     dword [rel _initstack_mutex], ecx 

        jecxz    cat_have_lock
        
        pause    
        jmp      cat_spin
cat_have_lock:
        

# 649 "../core/arch/x86/x86.asm"
        mov      rsi, [2*8 + rbp]  
        pop      rax             
        pop      rcx             



        mov      rbx, rbp 
        





        mov      rsp, qword [rel _d_r_initstack] 

        

# 679 "../core/arch/x86/x86.asm"
        push     qword [4*8 + rbx] 
        push     qword [3*8 + rbx] 
        push     rax   
        push     rsi   



        
         
 mov rdi,  rcx 
 call _dynamo_thread_stack_free_and_exit 
  



        
        pop      rax   

        
        pop      r10       

        pop      rdi   
        pop      rsi   

# 722 "../core/arch/x86/x86.asm"
        







        mov      dword [rel _initstack_mutex], 0 

        






        lock dec dword [rel _exiting_thread_count] 


        jmp      r10      



        









        global _global_do_syscall_int
_global_do_syscall_int:



        


        int      0x80


        jmp      _debug_infinite_loop


        
        jmp      _dynamorio_sys_exit_group

        



# 785 "../core/arch/x86/x86.asm"










        global _global_do_syscall_sysenter
_global_do_syscall_sysenter:
        DB 0x0f 
 DB 0x34 
 

        


        jmp      _debug_infinite_loop

        









# 834 "../core/arch/x86/x86.asm"









       global _global_do_syscall_syscall
_global_do_syscall_syscall:
        mov      r10, rcx
        syscall

        jmp      _debug_infinite_loop


        
        jmp      _dynamorio_sys_exit_group

        



# 887 "../core/arch/x86/x86.asm"




        global _debug_infinite_loop
_debug_infinite_loop:
        jmp      _debug_infinite_loop
        



# 1123 "../core/arch/x86/x86.asm"









        global _client_int_syscall
_client_int_syscall:
        int      0x80
        ret
        





# 1203 "../core/arch/x86/x86.asm"






        global _dynamorio_sigreturn
_dynamorio_sigreturn:


        mov      eax, 0x20000b8



        mov      r10, rcx
        syscall

# 1232 "../core/arch/x86/x86.asm"
        

        jmp      _unexpected_return
        







        global _dynamorio_sys_exit
_dynamorio_sys_exit:

        
        mov      eax, 27

        or       eax, 0x1000000




        
        call     dynamorio_sys_exit_next
dynamorio_sys_exit_next:
        pop      rdx
        lea      rdx, [1 + 3 + 2 + 2 + rdx]
        mov      rcx, rsp
        sysenter
        jae      dynamorio_sys_exit_failed

        mov      rcx, 0 
        mov      rdx, 0 
        mov      rsi, rax 
        mov      rdi, 0 
        mov      eax, 361
        or       eax, 0x2000000 
        mov      r10, rcx
        syscall

# 1294 "../core/arch/x86/x86.asm"
        

dynamorio_sys_exit_failed:
        jmp      _unexpected_return
        






        global _dynamorio_condvar_wake_and_jmp
_dynamorio_condvar_wake_and_jmp:

# 1337 "../core/arch/x86/x86.asm"
       





        mov      rdi, rcx 
        mov      rax, qword [rax] 

        mov      rdi, rax
        mov      eax, 34
        or       eax, 0x1000000








        
        call     dynamorio_semaphore_next
dynamorio_semaphore_next:
        pop      rdx
        lea      rdx, [1 + 3 + 2 + 2 + rdx]
        mov      rcx, rsp
        sysenter



        
        jmp      rdi

        






        global _dynamorio_sys_exit_group
_dynamorio_sys_exit_group:

        mov      edi, 0 

        mov      eax, 1



        mov      r10, rcx
        syscall

# 1401 "../core/arch/x86/x86.asm"
        

        jmp      _unexpected_return
        


# 1421 "../core/arch/x86/x86.asm"










        global _master_signal_handler
_master_signal_handler:






        mov      rax, rsp 
        push     rsi 
        push     r8 
        push     r9 
        
        mov      r9, rax 
         
 call _master_signal_handler_C 

        
        pop      rdx 
        pop      rdi 
        pop      rsi 
         
 call _dynamorio_sigreturn 

        jmp      _unexpected_return

# 1469 "../core/arch/x86/x86.asm"
        


# 1558 "../core/arch/x86/x86.asm"


# 1612 "../core/arch/x86/x86.asm"












        global _new_bsdthread_intercept
_new_bsdthread_intercept:
        
        mov      eax, 0
        mov      fs, eax
        mov      rax, rdi
        lea rsp, [rsp + (- ((32)*(64)) - ((8)*(8)) - 48)] 
 push 0  
 pushfq 
 push r15 
 push r14 
 push r13 
 push r12 
 push r11 
 push r10 
 push r9 
 push r8 
 push rax 
 push rcx 
 push rdx 
 push rbx 
 
 push rsp 
 push rbp 
 push rsi 
 push rdi 
 lea rax, [rsp] 
 
 mov rdi, rax 
 call _get_simd_vals 
 
 lea rax, [(18*8 + 48 + ((32)*(64)) + ((8)*(8))) + rsp] 
 mov [(3*8) + rsp], rax
        lea      rax, [rsp] 
         
 mov rdi,  rax 
 call _new_bsdthread_setup 

        
        jmp      _unexpected_return
        




# 1664 "../core/arch/x86/x86.asm"










        global _back_from_native_retstubs
_back_from_native_retstubs:




        DB 0x6a 
 DB 0x0 
 
        jmp      short _back_from_native
        DB 0x6a 
 DB 0x1 
 
        jmp      short _back_from_native
        DB 0x6a 
 DB 0x2 
 
        jmp      short _back_from_native
        DB 0x6a 
 DB 0x3 
 
        jmp      short _back_from_native
        DB 0x6a 
 DB 0x4 
 
        jmp      short _back_from_native
        DB 0x6a 
 DB 0x5 
 
        jmp      short _back_from_native
        DB 0x6a 
 DB 0x6 
 
        jmp      short _back_from_native
        DB 0x6a 
 DB 0x7 
 
        jmp      short _back_from_native
        DB 0x6a 
 DB 0x8 
 
        jmp      short _back_from_native
        DB 0x6a 
 DB 0x9 
 
        jmp      short _back_from_native
global _back_from_native_retstubs_end



_back_from_native_retstubs_end:
        






        global _back_from_native
_back_from_native:




        


        
        lea rsp, [rsp + (- ((32)*(64)) - ((8)*(8)) - 48)] 
 push 0  
 pushfq 
 push r15 
 push r14 
 push r13 
 push r12 
 push r11 
 push r10 
 push r9 
 push r8 
 push rax 
 push rcx 
 push rdx 
 push rbx 
 
 push rsp 
 push rbp 
 push rsi 
 push rdi 
 lea rax, [rsp] 
 
 mov rdi, rax 
 call _get_simd_vals 
 
 lea rax, [(18*8 + 48 + ((32)*(64)) + ((8)*(8))) + rsp] 
 mov [(3*8) + rsp], rax
        lea      rax, [rsp] 

        




        and      rsp, -16  

         
 mov rdi,  rax 
 call _return_from_native 

        
        jmp      _unexpected_return
        









        global _native_plt_call
_native_plt_call:
        lea rsp, [rsp + (- ((32)*(64)) - ((8)*(8)) - 48)] 
 push 0  
 pushfq 
 push r15 
 push r14 
 push r13 
 push r12 
 push r11 
 push r10 
 push r9 
 push r8 
 push rax 
 push rcx 
 push rdx 
 push rbx 
 
 push rsp 
 push rbp 
 push rsi 
 push rdi 
 lea rax, [rsp] 
 
 mov rdi, rax 
 call _get_simd_vals 
 
 lea rax, [(18*8 + 48 + ((32)*(64)) + ((8)*(8))) + rsp] 
 mov [(3*8) + rsp], rax
        lea      rax, [rsp]  

        mov      rcx, r11  




         
 mov rsi,  rcx 
 mov rdi,  rax 
 call _native_module_callout 


        
        pop rdi 
 pop rsi 
 pop rbp 
 pop rbx 
 pop rbx 
 pop rdx 
 pop rcx 
 pop rax 
 pop r8 
 pop r9 
 pop r10 
 pop r11 
 pop r12 
 pop r13 
 pop r14 
 pop r15 
 
 popfq 
 lea rsp, [rsp - (- ((32)*(64)) - ((8)*(8)) - 48) + 8 ]

        jmp      r11    



        














        global _dr_try_start
_dr_try_start:
        add      rdi, 0
        jmp      _dr_setjmp
        




        global _dr_setjmp
_dr_setjmp:

        
        mov      rdx, rdi
        push     rdx 



         
 mov rdi,  rdx 
 call _dr_setjmp_sigmask 




        pop      rdx 



        mov      [       0 + rdx], rbx
        mov      [  8 + rdx], rcx
        mov      [2*8 + rdx], rdi
        mov      [3*8 + rdx], rsi
        mov      [4*8 + rdx], rbp
        mov      [5*8 + rdx], rsp
        mov      rax, [rsp]
        mov      [6*8 + rdx], rax

        mov      [ 7*8 + rdx], r8
        mov      [ 8*8 + rdx], r9
        mov      [ 9*8 + rdx], r10
        mov      [10*8 + rdx], r11
        mov      [11*8 + rdx], r12
        mov      [12*8 + rdx], r13
        mov      [13*8 + rdx], r14
        mov      [14*8 + rdx], r15

        xor      eax, eax
        ret
        



        global _dr_longjmp
_dr_longjmp:
        mov      rax, rsi
        mov      rdx, rdi

        mov      rbx, [       0 + rdx]
        mov      rdi, [2*8 + rdx]
        mov      rsi, [3*8 + rdx]
        mov      rbp, [4*8 + rdx]
        mov      rsp, [5*8 + rdx] 
        mov      rcx, [6*8 + rdx]
        mov      [rsp], rcx    
        mov      rcx, [  8 + rdx]

        mov      r8,  [ 7*8 + rdx]
        mov      r9,  [ 8*8 + rdx]
        mov      r10, [ 9*8 + rdx]
        mov      r11, [10*8 + rdx]
        mov      r12, [11*8 + rdx]
        mov      r13, [12*8 + rdx]
        mov      r14, [13*8 + rdx]
        mov      r15, [14*8 + rdx]

        ret
        












        global _atomic_swap
_atomic_swap:
        mov      rax, rsi
        mov      rcx, rdi 
        xchg     [rcx], eax
        ret
        




        global _cpuid_supported
_cpuid_supported:
        pushfq
        pop      rax
        mov      ecx, eax      
        xor      eax, 0x200000 
        push     rax
        popfq
        pushfq
        pop      rax
        cmp      ecx, eax
        mov      eax, 0        
        setne    al
        push     rcx         
        popfq
        ret
        





        global _our_cpuid
_our_cpuid:
        mov      rax, rdi
        


        mov      rcx, rdx
        mov      rdx, rsi
        push     rbx 
        push     rdi 
        
        mov      rdi, rax
        mov      rax, rdx
        cpuid
        mov      [ 0 + rdi], eax
        mov      [ 4 + rdi], ebx
        mov      [ 8 + rdi], ecx
        mov      [12 + rdi], edx
        pop      rdi 
        pop      rbx 
        ret
        




        global _dr_stmxcsr
_dr_stmxcsr:
        mov      rax, rdi
        stmxcsr  [rax]
        ret
        




        global _dr_xgetbv
_dr_xgetbv:
        mov      rax, rdi
        mov      rdx, rsi
        push     rax               
        push     rdx               
        mov      ecx, 0
        
        DB 0x0f 
 DB 0x01 
 DB 0xd0 
    
        pop      rcx
        mov      dword [rcx], eax  
        pop      rcx
        mov      dword [rcx], edx  
        ret
        




        global _dr_fxsave
_dr_fxsave:
        mov      rax, rdi

        
        DB 0x48 
 DB 0x0f 
 DB 0xae 
 DB 0x00 
 



        fnclex
        finit
        ret
        




        global _dr_fnsave
_dr_fnsave:
        mov      rax, rdi
        
        fnsave   [rax]
        fwait
        ret
        




        global _dr_fxrstor
_dr_fxrstor:
        mov      rax, rdi

        
        DB 0x48 
 DB 0x0f 
 DB 0xae 
 DB 0x08 
 



        ret
        




        global _dr_frstor
_dr_frstor:
        mov      rax, rdi
        frstor   [rax]
        ret
        





        global _dr_fxsave32
_dr_fxsave32:
        mov      rax, rdi
        fxsave   [rax]
        fnclex
        finit
        ret
        




        global _dr_fxrstor32
_dr_fxrstor32:
        mov      rax, rdi
        fxrstor  [rax]
        ret
        




# 2204 "../core/arch/x86/x86.asm"










        global _get_xmm_caller_saved
_get_xmm_caller_saved:
        mov      rax, rdi
        movups   [rax + 0*64], xmm0
        movups   [rax + 1*64], xmm1
        movups   [rax + 2*64], xmm2
        movups   [rax + 3*64], xmm3
        movups   [rax + 4*64], xmm4
        movups   [rax + 5*64], xmm5

        movups   [rax + 6*64], xmm6
        movups   [rax + 7*64], xmm7


        movups   [rax + 8*64], xmm8
        movups   [rax + 9*64], xmm9
        movups   [rax + 10*64], xmm10
        movups   [rax + 11*64], xmm11
        movups   [rax + 12*64], xmm12
        movups   [rax + 13*64], xmm13
        movups   [rax + 14*64], xmm14
        movups   [rax + 15*64], xmm15

        ret
        







        global _get_ymm_caller_saved
_get_ymm_caller_saved:
        mov      rax, rdi
       
# 2260 "../core/arch/x86/x86.asm"

        DB 0xc5 
 DB 0xfe 
 DB 0x7f 
 DB 0x00 

        DB 0xc5 
 DB 0xfe 
 DB 0x7f 
 DB 0x48 
 DB 0x40 

        DB 0xc5 
 DB 0xfe 
 DB 0x7f 
 DB 0x90 
 DB 0x80 
 DB 0x00 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0xfe 
 DB 0x7f 
 DB 0x98 
 DB 0xc0 
 DB 0x00 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0xfe 
 DB 0x7f 
 DB 0xa0 
 DB 0x00 
 DB 0x01 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0xfe 
 DB 0x7f 
 DB 0xa8 
 DB 0x40 
 DB 0x01 
 DB 0x00 
 DB 0x00 


       



        DB 0xc5 
 DB 0xfe 
 DB 0x7f 
 DB 0xb0 
 DB 0x80 
 DB 0x01 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0xfe 
 DB 0x7f 
 DB 0xb8 
 DB 0xc0 
 DB 0x01 
 DB 0x00 
 DB 0x00 


       
# 2284 "../core/arch/x86/x86.asm"

        DB 0xc5 
 DB 0x7e 
 DB 0x7f 
 DB 0x80 
 DB 0x00 
 DB 0x02 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0x7e 
 DB 0x7f 
 DB 0x88 
 DB 0x40 
 DB 0x02 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0x7e 
 DB 0x7f 
 DB 0x90 
 DB 0x80 
 DB 0x02 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0x7e 
 DB 0x7f 
 DB 0x98 
 DB 0xc0 
 DB 0x02 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0x7e 
 DB 0x7f 
 DB 0xa0 
 DB 0x00 
 DB 0x03 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0x7e 
 DB 0x7f 
 DB 0xa8 
 DB 0x40 
 DB 0x03 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0x7e 
 DB 0x7f 
 DB 0xb0 
 DB 0x80 
 DB 0x03 
 DB 0x00 
 DB 0x00 

        DB 0xc5 
 DB 0x7e 
 DB 0x7f 
 DB 0xb8 
 DB 0xc0 
 DB 0x03 
 DB 0x00 
 DB 0x00 



        ret
        






        global _get_zmm_caller_saved
_get_zmm_caller_saved:
        mov      rax, rdi
       
# 2320 "../core/arch/x86/x86.asm"

        DB 0x62 
 DB 0xf1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x00 

        DB 0x62 
 DB 0xf1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x48 
 DB 0x01 

        DB 0x62 
 DB 0xf1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x50 
 DB 0x02 

        DB 0x62 
 DB 0xf1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x58 
 DB 0x03 

        DB 0x62 
 DB 0xf1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x60 
 DB 0x04 

        DB 0x62 
 DB 0xf1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x68 
 DB 0x05 

        DB 0x62 
 DB 0xf1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x70 
 DB 0x06 

        DB 0x62 
 DB 0xf1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x78 
 DB 0x07 


       
# 2354 "../core/arch/x86/x86.asm"

        DB 0x62 
 DB 0x71 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x40 
 DB 0x08 

        DB 0x62 
 DB 0x71 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x48 
 DB 0x09 

        DB 0x62 
 DB 0x71 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x50 
 DB 0x0a 

        DB 0x62 
 DB 0x71 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x58 
 DB 0x0b 

        DB 0x62 
 DB 0x71 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x60 
 DB 0x0c 

        DB 0x62 
 DB 0x71 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x68 
 DB 0x0d 

        DB 0x62 
 DB 0x71 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x70 
 DB 0x0e 

        DB 0x62 
 DB 0x71 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x78 
 DB 0x0f 

        DB 0x62 
 DB 0xe1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x40 
 DB 0x10 

        DB 0x62 
 DB 0xe1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x48 
 DB 0x11 

        DB 0x62 
 DB 0xe1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x50 
 DB 0x12 

        DB 0x62 
 DB 0xe1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x58 
 DB 0x13 

        DB 0x62 
 DB 0xe1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x60 
 DB 0x14 

        DB 0x62 
 DB 0xe1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x68 
 DB 0x15 

        DB 0x62 
 DB 0xe1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x70 
 DB 0x16 

        DB 0x62 
 DB 0xe1 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x78 
 DB 0x17 

        DB 0x62 
 DB 0x61 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x40 
 DB 0x18 

        DB 0x62 
 DB 0x61 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x48 
 DB 0x19 

        DB 0x62 
 DB 0x61 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x50 
 DB 0x1a 

        DB 0x62 
 DB 0x61 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x58 
 DB 0x1b 

        DB 0x62 
 DB 0x61 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x60 
 DB 0x1c 

        DB 0x62 
 DB 0x61 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x68 
 DB 0x1d 

        DB 0x62 
 DB 0x61 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x70 
 DB 0x1e 

        DB 0x62 
 DB 0x61 
 DB 0xfe 
 DB 0x48 
 DB 0x7f 
 DB 0x78 
 DB 0x1f 


        ret
        






        global _get_opmask_caller_saved
_get_opmask_caller_saved:
        mov      rax, rdi
       
# 2400 "../core/arch/x86/x86.asm"

        DB 0xc5 
 DB 0xf8 
 DB 0x91 
 DB 0x00 

        DB 0xc5 
 DB 0xf8 
 DB 0x91 
 DB 0x48 
 DB 0x08 

        DB 0xc5 
 DB 0xf8 
 DB 0x91 
 DB 0x50 
 DB 0x10 

        DB 0xc5 
 DB 0xf8 
 DB 0x91 
 DB 0x58 
 DB 0x18 

        DB 0xc5 
 DB 0xf8 
 DB 0x91 
 DB 0x60 
 DB 0x20 

        DB 0xc5 
 DB 0xf8 
 DB 0x91 
 DB 0x68 
 DB 0x28 

        DB 0xc5 
 DB 0xf8 
 DB 0x91 
 DB 0x70 
 DB 0x30 

        DB 0xc5 
 DB 0xf8 
 DB 0x91 
 DB 0x78 
 DB 0x38 

        ret
        





        global _hashlookup_null_handler
_hashlookup_null_handler:

# 2427 "../core/arch/x86/x86.asm"
        jmp      qword [rel _hashlookup_null_target] 

        





global _safe_read_asm_pre
global _safe_read_asm_mid
global _safe_read_asm_post
global _safe_read_asm_recover


# 2451 "../core/arch/x86/x86.asm"

        global _safe_read_asm
_safe_read_asm:
                   
        
        mov rcx,  rsi 
 and rcx, (8 - 1) 
 jz safe_read_asm_aligned 
 neg rcx 
 add rcx, 8 
 cmp rdx, rcx 
 cmovb rcx, rdx 
 sub rdx, rcx 
_safe_read_asm_pre: 
 rep  movsb 
safe_read_asm_aligned: 
 
 mov rcx, rdx 
 shr rcx, 3 
_safe_read_asm_mid: 
 rep  movsq 
 
 mov rcx, rdx 
 and rcx, (8 - 1) 
_safe_read_asm_post: 
 rep  movsb
_safe_read_asm_recover:
        mov      rax, rsi        
        
        ret
        


global _safe_read_tls_magic
global _safe_read_tls_magic_recover
global _safe_read_tls_self
global _safe_read_tls_self_recover
global _safe_read_tls_app_self
global _safe_read_tls_app_self_recover

        global _safe_read_tls_magic
_safe_read_tls_magic:
        


        gs
        mov      eax, dword [104]
_safe_read_tls_magic_recover:
        
        ret
        

        global _safe_read_tls_self
_safe_read_tls_self:
        
        gs
        mov      rax, qword [96]
_safe_read_tls_self_recover:
        
        ret
        

        global _safe_read_tls_app_self
_safe_read_tls_app_self:
        
        LIB_SEG_TLS
        mov      rax, qword [16]
_safe_read_tls_app_self_recover:
        
        ret
        






        global __dynamorio_runtime_resolve
__dynamorio_runtime_resolve:

        
        push     rax
        push     rdi
        push     rsi
        push     rdx
        push     rcx
        push     r8
        push     r9

        
        mov      rdi, [rsp + 7 * 8]        
        mov      rsi, [rsp + 8 * 8]        
         
 call _dynamorio_dl_fixup 

        mov      r11, rax                       

        pop      r9
        pop      r8
        pop      rcx
        pop      rdx
        pop      rsi
        pop      rdi
        pop      rax

        add      rsp, 16        
        jmp      r11            

# 2553 "../core/arch/x86/x86.asm"
        





# 2668 "../core/arch/x86/x86.asm"



# 2707 "../core/arch/x86/x86.asm"



